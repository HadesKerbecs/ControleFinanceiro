import{e as M,h as F}from"./chunk-4CNLZDSJ.js";import{t as E}from"./chunk-KIDSA5FJ.js";import{d as I}from"./chunk-B76GRXA5.js";import{$a as d,Ab as C,Bb as m,Ia as c,Jb as h,Na as x,Q as p,R as l,Ra as g,Vb as b,ab as n,bb as i,gc as _,kb as f,mb as u,mc as y,ob as v,tc as O,za as a,zb as o}from"./chunk-WY347VJD.js";import"./chunk-7CGTOI24.js";var P=r=>["/fixed-commitments",r,"edit"];function D(r,e){if(r&1){let t=f();n(0,"div",4)(1,"strong"),o(2),i(),n(3,"div",5)(4,"span"),o(5),i(),n(6,"span"),o(7),i(),n(8,"span"),o(9),i()(),n(10,"div",6)(11,"a",7),o(12," Editar "),i(),n(13,"button",8),u("click",function(){let k=p(t).$implicit,w=v();return l(w.toggle(k))}),o(14),i()()()}if(r&2){let t=e.$implicit;a(2),C(t.name),a(3),m("Valor: R$ ",t.value),a(2),m("Categoria: ",t.category_name),a(2),m("Vence dia ",t.due_day),a(2),d("routerLink",h(6,P,t.id)),a(3),m(" ",t.active?"Desativar":"Ativar"," ")}}var S=class r{constructor(e,t,s){this.toastr=e;this.http=t;this.cd=s}commitments=[];api="http://127.0.0.1:8000/api/fixed-commitments/";ngOnInit(){this.load()}load(){this.http.get(this.api).subscribe(e=>{this.commitments=e,this.cd.detectChanges()})}toggle(e){this.http.patch(`${this.api}${e.id}/`,{active:!e.active}).subscribe({next:()=>{this.toastr.success(e.active?"Compromisso desativado":"Compromisso ativado"),this.load()},error:()=>{this.toastr.error("Erro ao atualizar compromisso")}})}static \u0275fac=function(t){return new(t||r)(c(I),c(O),c(b))};static \u0275cmp=x({type:r,selectors:[["app-fixed-commitments"]],decls:7,vars:1,consts:[[1,"page"],[1,"header"],["routerLink","/fixed-commitments/new",1,"primary-btn"],["class","card",4,"ngFor","ngForOf"],[1,"card"],[1,"meta"],[1,"actions"],[1,"secondary-btn",3,"routerLink"],[1,"secondary-btn",3,"click"]],template:function(t,s){t&1&&(n(0,"div",0)(1,"div",1)(2,"h1"),o(3,"Compromissos Fixos"),i(),n(4,"a",2),o(5," + Novo compromisso "),i()(),g(6,D,15,8,"div",3),i()),t&2&&(a(6),d("ngForOf",s.commitments))},dependencies:[y,_,E,F,M],styles:[".page[_ngcontent-%COMP%]{max-width:900px;margin:0 auto;padding:24px}.header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:24px}.card[_ngcontent-%COMP%]{background:#fff;border-radius:16px;padding:16px;margin-bottom:16px;box-shadow:0 10px 30px #00000014}.actions[_ngcontent-%COMP%]{display:flex;gap:12px;margin-top:8px}.meta[_ngcontent-%COMP%]{display:flex;gap:16px;margin:8px 0;color:#475569}.primary-btn[_ngcontent-%COMP%]{background:#2563eb;color:#fff;padding:12px 16px;border-radius:12px;font-weight:600;text-decoration:none}.secondary-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid #cbd5f5;color:#2563eb;padding:8px 12px;border-radius:10px}@media(max-width:768px){.meta[_ngcontent-%COMP%]{flex-direction:column;gap:4px}.header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}}"]})};export{S as FixedCommitments};

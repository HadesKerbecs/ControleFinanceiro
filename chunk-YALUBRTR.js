import{a as P}from"./chunk-YPFCTNXV.js";import{d as x,e as v,h as _}from"./chunk-4CNLZDSJ.js";import{b as M,c as l,d as S,e as E,h as O,j as y,k,s as R,t as I}from"./chunk-KIDSA5FJ.js";import{d as C}from"./chunk-B76GRXA5.js";import{$a as s,Bb as g,Ia as d,Na as h,Ra as c,ab as e,bb as t,cb as p,hc as w,mb as f,mc as b,za as n,zb as o}from"./chunk-WY347VJD.js";import"./chunk-7CGTOI24.js";function T(a,i){a&1&&(e(0,"small"),o(1," Usu\xE1rio obrigat\xF3rio "),t())}function F(a,i){a&1&&(e(0,"small"),o(1," Email inv\xE1lido "),t())}function z(a,i){a&1&&(e(0,"small"),o(1," As senhas n\xE3o conferem "),t())}var N=class a{constructor(i,m,r,u){this.fb=i;this.authService=m;this.router=r;this.toastr=u;this.form=this.fb.group({username:["",l.required],email:["",[l.required,l.email]],password:["",l.required],confirmPassword:["",l.required]},{validators:this.passwordMatch})}form;showPassword=!1;showConfirmPassword=!1;togglePassword(){this.showPassword=!this.showPassword}toggleConfirmPassword(){this.showConfirmPassword=!this.showConfirmPassword}passwordMatch(i){return i.get("password")?.value===i.get("confirmPassword")?.value?null:{passwordMismatch:!0}}submit(){if(this.form.invalid){this.form.markAllAsTouched(),this.toastr.warning("Preencha todos os campos corretamente");return}this.authService.register(this.form.value).subscribe({next:()=>{this.toastr.success("Cadastro realizado com sucesso"),this.router.navigate(["/login"])},error:i=>{this.toastr.error(i.error?.message||"Erro ao registrar usu\xE1rio")}})}static \u0275fac=function(m){return new(m||a)(d(R),d(P),d(x),d(C))};static \u0275cmp=h({type:a,selectors:[["app-register"]],decls:37,vars:9,consts:[[1,"form-container"],[1,"subtitle"],[3,"ngSubmit","formGroup"],[1,"field"],["formControlName","username"],[4,"ngIf"],["type","email","formControlName","email"],[1,"field","password-field"],[1,"password-wrapper"],["formControlName","password",3,"type"],[1,"toggle-password",3,"click"],["formControlName","confirmPassword",3,"type"],[3,"disabled"],[1,"footer"],["routerLink","/login"]],template:function(m,r){m&1&&(e(0,"div",0)(1,"h1"),o(2,"Criar conta"),t(),e(3,"p",1),o(4,"Controle financeiro pessoal"),t(),e(5,"form",2),f("ngSubmit",function(){return r.submit()}),e(6,"div",3)(7,"label"),o(8,"Usu\xE1rio"),t(),p(9,"input",4),c(10,T,2,0,"small",5),t(),e(11,"div",3)(12,"label"),o(13,"Email"),t(),p(14,"input",6),c(15,F,2,0,"small",5),t(),e(16,"div",7)(17,"label"),o(18,"Senha"),t(),e(19,"div",8),p(20,"input",9),e(21,"span",10),f("click",function(){return r.togglePassword()}),o(22),t()()(),e(23,"div",7)(24,"label"),o(25,"Confirmar senha"),t(),e(26,"div",8),p(27,"input",11),e(28,"span",10),f("click",function(){return r.toggleConfirmPassword()}),o(29),t()(),c(30,z,2,0,"small",5),t(),e(31,"button",12),o(32,"Criar conta"),t()(),e(33,"div",13),o(34," J\xE1 tem conta? "),e(35,"a",14),o(36,"Entrar"),t()()()),m&2&&(n(5),s("formGroup",r.form),n(5),s("ngIf",r.form.controls.username.touched&&r.form.controls.username.invalid),n(5),s("ngIf",r.form.controls.email.touched&&r.form.controls.email.invalid),n(5),s("type",r.showPassword?"text":"password"),n(2),g(" ",r.showPassword?"Ocultar":"Mostrar"," "),n(5),s("type",r.showConfirmPassword?"text":"password"),n(2),g(" ",r.showConfirmPassword?"Ocultar":"Mostrar"," "),n(),s("ngIf",r.form.errors==null?null:r.form.errors.passwordMismatch),n(),s("disabled",r.form.invalid))},dependencies:[b,w,I,O,M,S,E,k,y,_,v],styles:["[_nghost-%COMP%]{display:flex;min-height:100vh;background:linear-gradient(135deg,#f1f5f9,#e2e8f0);align-items:center;justify-content:center;font-family:Inter,Roboto,sans-serif}.form-container[_ngcontent-%COMP%]{width:100%;max-width:420px;padding:48px 40px;background:#fff;border-radius:16px;box-shadow:0 20px 40px #0f172a14,0 2px 8px #0f172a0a}h1[_ngcontent-%COMP%]{color:#0f172a;font-size:26px;font-weight:600;margin-bottom:6px}.subtitle[_ngcontent-%COMP%]{color:#475569;font-size:14px;margin-bottom:32px}.field[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin-bottom:20px}label[_ngcontent-%COMP%]{color:#334155;font-size:13px;margin-bottom:6px;font-weight:500}input[_ngcontent-%COMP%]{background:#f8fafc;border:1px solid #e2e8f0;padding:12px;font-size:14px;border-radius:10px;color:#0f172a;outline:none;transition:border-color .2s ease,box-shadow .2s ease}input[_ngcontent-%COMP%]:focus{border-color:#2563eb;box-shadow:0 0 0 3px #2563eb26;background:#fff}small[_ngcontent-%COMP%]{margin-top:6px;font-size:12px;color:#dc2626}button[_ngcontent-%COMP%]{width:100%;margin-top:12px;padding:14px;background:#2563eb;border:none;border-radius:12px;color:#fff;font-size:15px;font-weight:500;cursor:pointer;transition:background .2s ease,transform .15s ease,box-shadow .15s ease}button[_ngcontent-%COMP%]:hover:not(:disabled){background:#1d4ed8;transform:translateY(-1px);box-shadow:0 8px 20px #2563eb40}button[_ngcontent-%COMP%]:disabled{background:#94a3b8;cursor:not-allowed}.footer[_ngcontent-%COMP%]{margin-top:28px;text-align:center;font-size:13px;color:#475569}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#2563eb;font-weight:500;text-decoration:none}.footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{text-decoration:underline}.password-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.password-wrapper[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding-right:70px}.toggle-password[_ngcontent-%COMP%]{position:absolute;right:12px;font-size:13px;color:#2563eb;cursor:pointer;-webkit-user-select:none;user-select:none}"]})};export{N as Register};
